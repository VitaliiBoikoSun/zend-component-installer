<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Composer plugin for injecting modules and configuration providers into application configuration">  
    <link rel="canonical" href="https://docs.zendframework.com/zend-component-installer/">
    <link rel="shortcut icon" href="img/favicon.ico">

    <title>zend-component-installer - Zend Framework Docs</title>

    <link rel="stylesheet" href="css/styles-5cfabd53ee.css">
</head>
<body id="page-top">

    
    <div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">

            
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-tooltip data-placement="bottom" title="Go to the ZF homepage">
                    <img src="img/zend-framework-logo.svg" height="28" alt="Zend Framework">
                </a>
            </span>
        </div>

        <div class="navbar-collapse collapse">

            
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://framework.zend.com/about">About</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/downloads">Install</a>
                </li>
                <li class="active">
                    <a href="https://docs.zendframework.com">Documentation</a>
                </li>
                <li>
                    <a href="https://www.zend.com/en/services/training">Training</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/blog">Blog</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/participate">Participate</a>
                </li>
            </ul>

            
            
                <div class="nav navbar-nav navbar-collapse visible-xs-block ">
                    
                </div>
            

            
            <div class="nav navbar-nav navbar-collapse visible-xs-block">
                <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentationâ€¦</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</div>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-xs-8">
                <h1 class="header__title">
                    Documentation

                    
                        <small class="header__subtitle">zend-component-installer</small>
                    
                </h1>
            </div>

            
            <div class="col-xs-4 text-right">
                
                    

                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/zendframework/zend-component-installer/" class="header__link header__link--github" title="Go to repository of zend-component-installer">
                        <i class="fa fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="laminas-announcement">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                Zend Framework transitions to the Linux Foundation. <a href="https://getlaminas.org">Learn More.</a>
            </div>
        </div>
    </div>
</div>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-xs-12 content" role="main">
            <!-- content:begin -->
                
                    <ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
    <li><a href="https://framework.zend.com/">Home</a></li>

    
        <li><a href="https://docs.zendframework.com/">Documentation</a></li>

        
            <li>zend-component-installer</li>
        
    
</ol>





    <h1>zend-component-installer</h1>
<p>Composer plugin for injecting modules and configuration providers into application configuration</p>


    <p> <pre class=codehilite><code class=language-bash>$ composer require --dev zendframework/zend-component-installer</code></pre></p>
<blockquote>
<h3>Global Installation</h3>
<p>You can also install the plugin globally, in which case it will be active for
every project you manage on your machine.</p>
<p><pre class=codehilite><code class=language-bash>
$ composer global require zendframework/zend-component-installer
</code></pre></p>
</blockquote>
<h2 id="installable-packages">Installable Packages</h2>
<p>How do you define a package for which zend-component-installer will install
configuration?</p>
<h3>Components</h3>
<p>Components are Zend Framework modules that deliver low-level
functionality; examples include the various Zend Framework components
themselves. These require the following:</p>
<ul>
<li>A <code>Module</code> class in the package namespace.</li>
<li>An <code>extra.zf.component</code> entry listing the package namespace in your
  <code>composer.json</code>.</li>
</ul>
<p> <pre class=codehilite><code class=language-json>&quot;extra&quot;: {
    &quot;zf&quot;: {
        &quot;component&quot;: &quot;Some\\Component&quot;
    }
}</code></pre></p>
<p>You may also specify multiple components as an array:</p>
<p> <pre class=codehilite><code class=language-json>&quot;extra&quot;: {
    &quot;zf&quot;: {
        &quot;component&quot;: [
            &quot;Some\\Component&quot;,
            &quot;Other\\Component&quot;
        ]
    }
}</code></pre></p>
<p>Your application will need to have one or more of the following configuration
files, from which you will be prompted to choose which one in which to inject
the component:</p>
<ul>
<li><code>config/application.config.php</code> (vanilla ZF2 application)</li>
<li><code>config/modules.config.php</code> (<a href="https://apigility.org">Apigility</a> application)</li>
<li><code>config/development.config.php.dist</code> and <code>config/development.config.php</code>
  (applications using <a href="https://github.com/zfcampus/zf-development-mode">zf-development-mode</a>)</li>
</ul>
<p>Components are added at the <strong>top</strong> of the application's list of modules.</p>
<h3>Modules</h3>
<p>Zend Framework modules typically deliver functionality around the
<a href="https://docs.zendframework.com/zend-mvc/">zend-mvc</a> workflow, including MVC
event listeners, controllers, etc. To enable the installer workflow, they 
require the following:</p>
<ul>
<li>A <code>Module</code> class in the package namespace.</li>
<li>An <code>extra.zf.module</code> entry listing the package namespace in your <code>composer.json</code>.</li>
</ul>
<p> <pre class=codehilite><code class=language-json>&quot;extra&quot;: {
    &quot;zf&quot;: {
        &quot;module&quot;: &quot;Some\\Component&quot;
    }
}</code></pre></p>
<p>You may also specify multiple modules as an array:</p>
<p> <pre class=codehilite><code class=language-json>&quot;extra&quot;: {
    &quot;zf&quot;: {
        &quot;module&quot;: [
            &quot;Some\\Component&quot;,
            &quot;Other\\Component&quot;
        ]
    }
}</code></pre></p>
<p>Your application will need to have one or more of the following configuration
files, from which you will be prompted to choose which one in which to inject
the module:</p>
<ul>
<li><code>config/application.config.php</code> (vanilla ZF2 application)</li>
<li><code>config/modules.config.php</code> (<a href="https://apigility.org">Apigility</a> application)</li>
<li><code>config/development.config.php.dist</code> and <code>config/development.config.php</code>
  (applications using <a href="https://github.com/zfcampus/zf-development-mode">zf-development-mode</a>)</li>
</ul>
<p>Modules are added at the <strong>bottom</strong> of the application's list of modules.</p>
<h3>Config Providers</h3>
<p>Configuration providers work with <a href="https://github.com/mtymek/expressive-config-manager">expressive-config-manager</a>
and <a href="https://github.com/zendframework/zend-config-aggregator">zend-config-aggregator</a>,
which provides generic functionality for aggregating and merging application
configuration. Packages that provide configuration will provide an invokable
class that returns configuration for the package. To enable the installer
workflow, you will need:</p>
<ul>
<li>A configuration provider class. This is a class with no constructor
  arguments defining an <code>__invoke()</code> method returning a configuration array.</li>
</ul>
<p> <pre class=codehilite><code class=language-php>namespace Some\Component;

class ConfigProvider
{
    public function __invoke()
    {
        return [ /* ... */ ];
    }
}</code></pre></p>
<ul>
<li>An <code>extra.zf.config-provider</code> entry listing the configuration provider class
  in your <code>composer.json</code>.</li>
</ul>
<p> <pre class=codehilite><code class=language-json>&quot;extra&quot;: {
    &quot;zf&quot;: {
        &quot;config-provider&quot;: &quot;Some\\Component\\ConfigProvider&quot;
    }
}</code></pre></p>
<p>You may also specify multiple configuration providers as an array:</p>
<p> <pre class=codehilite><code class=language-json>&quot;extra&quot;: {
    &quot;zf&quot;: {
        &quot;config-provider&quot;: [
            &quot;Some\\Component\\ConfigProvider&quot;,
            &quot;Some\\Component\\PluginConfigProvider&quot;
        ]
    }
}</code></pre></p>
<p>Your application will need to define a <code>config/config.php</code> file, and that file
will need to have a line that instantiates either a
<code>Zend\Expressive\ConfigManager\ConfigManager</code> instance (deprecated) or
<code>Zend\ConfigAggregator\ConfigAggregator</code> instance.</p>
<p>Configuration providers are added at the <strong>top</strong> of the
<code>ConfigManager</code>/<code>ConfigAggregator</code> provider array.</p>
<h2 id="whitelisting-packages-to-autoinstall">Whitelisting packages to autoinstall</h2>
<p>At the root package level, you can indicate that certain packages that supply
config providers and/or modules should automatically inject configuration,
instead of prompting for installation, via the <code>component-whitelist</code> setting.
This value should be an array of package names.</p>
<p> <pre class=codehilite><code class=language-json>&quot;extra&quot;: {
    &quot;zf&quot;: {
        &quot;component-whitelist&quot;: [
            &quot;zendframework/zend-expressive&quot;,
            &quot;zendframework/zend-expressive-helper&quot;,
            &quot;zendframework/zend-expressive-fastrouterouter&quot;,
            &quot;zendframework/zend-expressive-platesrenderer&quot;
        ]
    }
}</code></pre></p>
<p>This setting only works in the root package.</p>
<h2 id="why">Why?</h2>
<p>When preparing zend-mvc's version 3 release, we wanted to reduce the number of
components required by the package. To do so, we moved integration code, such as
factories, plugin managers, and event listeners into the components they
consumed. This had a side effect: the components were no longer wired
automatically.</p>
<p>To provide service and event wiring, we added <code>Module</code> classes (and
configuration providers) to all Zend Framework components. This exposed a new
problem, however: how could we ensure that those components are added to the
application module list as you add them to your application?</p>
<p>This package provides the answer to that problem. As soon as you add this
package to your application, whenever you add a component or module that exposes
itself as such, the plugin will prompt you, asking where you want to inject it.</p>
<h2 id="when-are-multiple-items-required">When are multiple items required?</h2>
<p>As noted under each of the component, module, and config-provider sections, you
can optionally specify an <em>array</em> of items. When would you do this?</p>
<p>The primary reason is for <a href="https://getcomposer.org/doc/04-schema.md#type">metapackages</a>.
Composer does not trigger either <code>post-package-install</code> or
<code>post-package-uninstall</code> events for packages defined as metapackage
requirements. As such, you would define the metadata for such packages in the
metapackage as well, to ensure that the component installer can update the
configuration accordingly.</p>
<p>The other use case is to allow specifying multiple configuration providers from
the same package. As an example, you might define default configuration, plus
configuration for plugins; specifying these as separate configuration providers
allows the consumer to choose if they want both enabled in their application.</p>
<h3>Removing individual packages</h3>
<p>When removing individual packages that were originally installed via a
metapackage, <em>the component installer will not trigger</em>. As such, you will need
to manually remove such packages from your configuration.</p>
<p>Additionally, a later update may actually <em>re-install</em> the package, as it's a
requirement of the metapackage. As such, it's typically safer to:</p>
<ul>
<li>Remove the metapackage</li>
<li>Individually install the packages from the metapackage that you wish to keep.</li>
</ul>

    


<h2>Support</h2>
<ul>
    <li>Issues: <a href="https://github.com/zendframework/zend-component-installer/issues/">github.com/zendframework/zend-component-installer/issues</a></li>
    <li>Source: <a href="https://github.com/zendframework/zend-component-installer/">github.com/zendframework/zend-component-installer</a></li>
    <li>Chat: <a href="https://zendframework-slack.herokuapp.com">zendframework-slack.herokuapp.com</a></li>
    <li>Forum: <a href="https://discourse.zendframework.com/">discourse.zendframework.com</a></li>
</ul>







    <div class="help-wanted">
        <p>
            Found a mistake or want to contribute to the documentation?
            <a href="https://github.com/zendframework/zend-component-installer/edit/master/docs/book/index.md" target="_blank" class="help-wanted__link">
                Edit this page on GitHub!
            </a>
        </p>
    </div>

                
            <!-- content:end -->
            </div>
            <div class="col-md-3 col-xs-12 sidebar">
                
                    <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentationâ€¦</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    
                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <h5>Zend Framework</h5>
                <ul>
                    <li><a href="https://framework.zend.com/">framework.zend.com</a></li>
                    <li><a href="https://docs.zendframework.com">docs.zendframework.com</a></li>
                    <li><a href="https://packages.zendframework.com">packages.zendframework.com</a></li>
                    <li><a href="https://apigility.org">apigility.org</a></li>
                    <li><a href="https://getexpressive.org/">getexpressive.org</a></li>
                </ul>
            </div>
        </div>

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">

            
            <div class="col-md-9">
                <h4 class="footer__headline">Copyright</h4>
                <p>&copy; 2006-2019 by <a href="https://www.zend.com/">Zend</a>, a <a href="https://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            
            <div class="col-md-3">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.zendframework.com" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://zendframework-slack.herokuapp.com" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/zendframework" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/zfdevteam" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://tinyletter.com/mwopzend" class="support__link" title="Newsletter"><i class="fa fa-envelope"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/blog/feed-rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://framework.zend.com/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

    <script>
        var base_url = '.',
            siteName = 'zend-component-installer';
    </script>
    <script src="js/scripts-8d7ae56abf.js"></script>
        <script src="search/main.js"></script>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>



</body>


</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2019-11-01 17:41:41
-->
